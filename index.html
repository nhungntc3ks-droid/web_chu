<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>H·ªçc Li·ªáu S·ªë - THPT K·ª≤ S∆†N</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@900&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; font-weight: 900; background-color: #f8fafc; overflow-x: hidden; -webkit-tap-highlight-color: transparent; }
        * { font-style: normal !important; box-sizing: border-box; } 
        
        /* Menu Dropdown */
        .dropdown { position: relative; } 
        .dropdown-menu { 
            display: none; position: absolute; top: 110%; left: 50%; transform: translateX(-50%);
            background: white; box-shadow: 0 10px 30px rgba(0,0,0,0.2); border-radius: 1rem; 
            width: 160px; border: 2px solid #1e40af; z-index: 9999;
        }
        .dropdown:focus-within .dropdown-menu, .dropdown:hover .dropdown-menu { display: block; }
        .dropdown-item { display: block; padding: 10px 15px; color: #1e40af; font-size: 0.75rem; border-bottom: 1px solid #e0e7ff; text-transform: uppercase; }
        
        .side-btn-custom { color: #1e3a8a; border: 2px solid #e2e8f0; text-transform: uppercase; transition: 0.2s; }
        .side-btn-custom:active { background: #1e3a8a; color: white; transform: scale(0.95); }

        /* Gi·ªØ Logo n·∫±m ngang chu·∫©n Mobile */
        @media (max-width: 640px) {
            .nav-container { flex-direction: row !important; justify-content: space-between !important; padding: 10px !important; }
            .logo-box img { width: 45px !important; height: 45px !important; }
            .logo-box h1 { font-size: 0.9rem !important; }
            .logo-box p { display: none; }
            .menu-box { gap: 8px !important; }
            .btn-ai { padding: 6px 10px !important; font-size: 9px !important; border-radius: 10px !important; }
            .nav-link { font-size: 9px !important; }
        }
    </style>
</head>
<body class="text-gray-900 leading-tight">

    <header class="bg-white shadow-md sticky top-0 z-[1001]">
        <div class="bg-blue-700 py-1 border-b text-white text-center">
            <marquee scrollamount="6" class="uppercase font-black text-[9px] md:text-sm">H·ªåC LI·ªÜU S·ªê TIN H·ªåC - THPT K·ª≤ S∆†N !</marquee>
        </div>
        
        <nav class="nav-container max-w-7xl mx-auto px-4 py-3 flex justify-between items-center">
            
            <div class="logo-box flex items-center space-x-2 cursor-pointer" onclick="renderContent('All')">
                <img src="logo-truong.png" alt="Logo" class="w-12 h-12 md:w-16 md:h-16 object-contain">
                <div>
                    <h1 class="text-blue-900 font-black uppercase text-sm md:text-xl leading-none">THPT K·ª≤ S∆†N</h1>
                    <p class="text-[8px] text-gray-400 uppercase tracking-widest mt-1">NGH·ªÜ AN</p>
                </div>
            </div>

            <div class="menu-box flex items-center gap-3 md:gap-6">
                <a href="https://www.coze.com/store/bot/7598236198981091381" target="_blank" 
                   class="btn-ai bg-red-600 text-white px-4 py-2 rounded-xl text-[10px] md:text-sm uppercase font-black shadow-md hover:bg-red-700 active:scale-95 transition-all">
                   ü§ñ TR·ª¢ L√ù AI
                </a>

                <div class="dropdown">
                    <button class="nav-link text-blue-700 text-[10px] md:text-sm uppercase font-black flex items-center">
                        PROMPT <span class="ml-0.5 text-[7px]">‚ñº</span>
                    </button>
                    <div class="dropdown-menu shadow-xl">
                        <a href="javascript:showListContent('prompts_ai', 'tro_choi')" class="dropdown-item">üéÆ TR√í CH∆†I</a>
                        <a href="javascript:showListContent('prompts_ai', 'kiem_tra')" class="dropdown-item">üìù KI·ªÇM TRA</a>
                    </div>
                </div>

                <a href="javascript:showListContent('danh_sach_video')" class="nav-link text-blue-700 text-[10px] md:text-sm uppercase font-black">VIDEO</a>
                <a id="btn-fb" href="#" target="_blank" class="nav-link text-blue-700 text-[10px] md:text-sm uppercase font-black border-b border-blue-100">FB</a>
                <a id="btn-zalo" href="#" target="_blank" class="nav-link text-blue-700 text-[10px] md:text-sm uppercase font-black border-b border-blue-100">ZALO</a>
            </div>
        </nav>
    </header>

    <main class="max-w-7xl mx-auto px-4 py-6 flex flex-col md:flex-row gap-6">
        <aside class="w-full md:w-1/4">
            <div class="bg-white p-4 rounded-3xl shadow-md border-b-4 border-blue-100">
                <h3 class="font-black text-blue-900 mb-3 border-l-4 border-red-600 pl-3 text-sm uppercase">DANH M·ª§C</h3>
                <ul class="grid grid-cols-2 md:grid-cols-1 gap-2 md:space-y-2" id="side-menu"></ul>
            </div>
        </aside>

        <section class="w-full md:w-3/4">
            <div class="flex flex-col mb-6 gap-3">
                <div id="content-title" class="text-xl md:text-3xl font-black text-red-600 border-b-4 border-blue-50 inline-block uppercase italic">H·ªåC LI·ªÜU B√ÄI H·ªåC</div>
                
                <div id="search-box-container" class="flex flex-col gap-2">
                    <input type="text" id="searchInput" class="w-full p-3 rounded-xl border-2 border-gray-100 outline-none font-bold text-xs" placeholder="T√åM KI·∫æM B√ÄI H·ªåC..." onkeyup="handleFilter(1)">
                    <select id="classFilter" class="w-full p-3 rounded-xl border-2 border-gray-100 font-bold text-xs bg-white uppercase" onchange="handleFilter(1)">
                        <option value="All">T·∫§T C·∫¢ L·ªöP</option>
                        <option value="L·ªõp 10">L·ªöP 10</option>
                        <option value="L·ªõp 11">L·ªöP 11</option>
                        <option value="L·ªõp 12">L·ªöP 12</option>
                        <option value="HSG">HSG</option>
                    </select>
                </div>
            </div>

            <div id="main-display" class="grid grid-cols-1 sm:grid-cols-2 gap-4"></div>
            <div id="pagination" class="mt-8 flex justify-center gap-1.5"></div>
        </section>
    </main>

    <footer class="bg-[#0f172a] text-white py-8 px-4 mt-10 font-black uppercase text-center">
        <p id="zalo-num" class="text-xl">0978 909 379</p>
    </footer>

    <script src="https://sf-cdn.coze.com/obj/unpkg-va/flow-platform/chat-app-sdk/1.2.0-beta.6/libs/oversea/index.js"></script>
    <script>
      new CozeWebSDK.WebChatClient({
        config: { bot_id: '7598236198981091381' },
        componentProps: { title: 'TR·ª¢ L√ù TIN H·ªåC 10', zIndex: 1000 },
      });
    </script>

    <script src="data.js"></script>
    <script>
        const display = document.getElementById('main-display');
        const title = document.getElementById('content-title');
        const searchBox = document.getElementById('search-box-container');
        const pagination = document.getElementById('pagination');

        window.handleFilter = function(page = 1) {
            const keyword = document.getElementById('searchInput').value.toLowerCase();
            const classSelect = document.getElementById('classFilter').value;
            const results = dataHocLieu.bai_hoc.filter(item => {
                const matchKeyword = item.tieu_de.toLowerCase().includes(keyword);
                return matchKeyword && (classSelect === 'All' || item.phan_loai === classSelect);
            });
            showData(results, page);
        };

        function showData(dataList, page = 1) {
            const itemsPerPage = 6;
            const items = dataList.slice((page - 1) * itemsPerPage, page * itemsPerPage);
            if (dataList.length === 0) {
                display.innerHTML = `<p class="font-black text-gray-400 uppercase text-center w-full py-10">KH√îNG C√ì D·ªÆ LI·ªÜU</p>`;
                return;
            }
            display.innerHTML = items.map(b => `
                <div class="bg-white p-5 rounded-2xl shadow-lg border-2 border-transparent active:border-blue-400 transition-all relative">
                    <div class="text-4xl mb-2">${b.icon}</div>
                    <span class="absolute top-3 right-3 text-[7px] font-black bg-blue-700 text-white px-2 py-0.5 rounded-full uppercase">${b.phan_loai}</span>
                    <h4 class="text-sm font-black mb-1 uppercase text-gray-800 line-clamp-2 h-10">${b.tieu_de}</h4>
                    <p class="text-[9px] text-gray-400 uppercase mb-3">${b.mo_ta}</p>
                    <a href="${b.link}" target="_blank" class="text-red-600 border-b border-red-100 font-black uppercase text-[9px] inline-block">TRUY C·∫¨P ‚Üí</a>
                </div>`).join('');
            renderPagination(dataList.length, itemsPerPage, page);
        }

        function renderPagination(totalItems, itemsPerPage, currentPage) {
            pagination.innerHTML = "";
            const totalPages = Math.ceil(totalItems / itemsPerPage);
            if (totalPages <= 1) return;
            for (let i = 1; i <= totalPages; i++) {
                pagination.innerHTML += `<button onclick="handleFilter(${i})" class="w-8 h-8 border rounded-lg font-black text-xs ${i === currentPage ? 'bg-blue-600 text-white' : 'bg-white'}">${i}</button>`;
            }
        }

        window.showListContent = function(key, subKey = null) {
            searchBox.style.display = "none";
            let data = subKey ? dataHocLieu[key][subKey] : dataHocLieu[key];
            title.innerText = (subKey || key).replace('_', ' ').toUpperCase();
            display.innerHTML = data.map(item => `
                <div class="bg-white p-5 rounded-2xl shadow active:border-blue-400 border-2 border-transparent">
                    <div class="text-3xl mb-2">${item.icon || 'üìÅ'}</div>
                    <h4 class="text-sm font-black mb-1 uppercase text-gray-800">${item.tieu_de || item.ten}</h4>
                    ${item.noi_dung_prompt ? `<button onclick="navigator.clipboard.writeText(\`${item.noi_dung_prompt}\`); alert('ƒê√£ ch√©p!')" class="bg-red-600 text-white px-3 py-2 rounded-lg text-[9px] font-black w-full">CH√âP PROMPT</button>` : `<a href="${item.link}" target="_blank" class="text-red-600 border-b border-red-100 font-black uppercase text-[9px]">M·ªû NGAY ‚Üí</a>`}
                </div>`).join('');
            pagination.innerHTML = "";
        };

        window.renderContent = function(category) {
            searchBox.style.display = "flex"; 
            title.innerText = "H·ªåC LI·ªÜU B√ÄI H·ªåC";
            document.getElementById('classFilter').value = category;
            handleFilter(1);
        };

        const cats = ["L·ªõp 10", "L·ªõp 11", "L·ªõp 12", "HSG"];
        document.getElementById('side-menu').innerHTML = cats.map(c => `<li><button onclick="renderContent('${c}')" class="w-full text-center p-3 rounded-xl font-black bg-white shadow-sm text-[10px] md:text-sm uppercase text-blue-900 border border-gray-100">üìÅ ${c}</button></li>`).join('');

        if (dataHocLieu.thong_tin) {
            const info = dataHocLieu.thong_tin;
            document.getElementById('zalo-num').innerText = info.zalo;
            document.getElementById('btn-fb').href = info.facebook_link;
            document.getElementById('btn-zalo').href = `https://zalo.me/${info.zalo.replace(/\s+/g, '')}`;
        }
        renderContent('All'); 
    </script>
</body>
</html>
