<!doctype html>
<html lang="vi" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>B√†i t·∫≠p Python If Statement</title>
  <script src="/_sdk/element_sdk.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
        body {
            box-sizing: border-box;
        }
        
        * {
            box-sizing: border-box;
        }
        
        .code-block {
            font-family: 'Courier New', monospace;
            white-space: pre-wrap;
            word-wrap: break-word;
        }
        
        .fade-in {
            animation: fadeIn 0.3s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .shake {
            animation: shake 0.5s ease-in-out;
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }
        
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .glass-effect {
            background: rgba(30, 41, 59, 0.8);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .glow {
            box-shadow: 0 0 20px rgba(59, 130, 246, 0.3);
        }
        
        .pulse {
            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.8; }
        }
        
        .code-block {
            background: linear-gradient(135deg, #1e3a8a 0%, #1e40af 100%);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        }
        
        .option-label:hover {
            transform: translateX(5px);
            box-shadow: 0 4px 15px rgba(59, 130, 246, 0.2);
        }
        
        .btn-hover:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(59, 130, 246, 0.4);
        }
        
        .score-emoji {
            font-size: 80px;
            animation: bounce 1s ease infinite;
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }
        
        input[type="radio"] {
            width: 18px;
            height: 18px;
            cursor: pointer;
        }
        
        .option-label {
            cursor: pointer;
            transition: all 0.3s ease;
        }
    </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
 </head>
 <body class="h-full">
  <div id="app-container" class="h-full w-full overflow-auto">
   <div class="min-h-full py-8 px-4">
    <div class="max-w-4xl mx-auto"><div class="text-center mb-8">
      <div class="inline-block mb-4">
       <div class="text-6xl mb-4 score-emoji">
        üêç
       </div>
      </div>
      <h1 id="main-title" class="text-5xl font-bold mb-3 pulse" style="text-shadow: 0 0 30px rgba(59, 130, 246, 0.5);">B√†i 19: C√¢u l·ªánh IF trong Python</h1>
      <p id="subtitle" class="text-xl opacity-90">Th·ª±c h√†nh v·ªÅ c√¢u l·ªánh if v√† bi·ªÉu th·ª©c logic</p>
     </div><div class="mb-8 glass-effect rounded-xl p-4">
      <div class="flex justify-between items-center mb-3"><span class="text-sm font-bold">üéØ Ti·∫øn ƒë·ªô</span> <span id="progress-text" class="text-sm font-bold px-3 py-1 rounded-full" style="background: rgba(59, 130, 246, 0.2);">0/30</span>
      </div>
      <div class="w-full h-4 rounded-full overflow-hidden" style="background: rgba(0, 0, 0, 0.3);">
       <div id="progress-bar" class="h-full transition-all duration-500 gradient-bg glow" style="width: 0%"></div>
      </div>
     </div><div id="exercise-card" class="glass-effect rounded-2xl shadow-2xl p-8 mb-6 glow">
      <div class="flex items-center justify-between mb-6">
       <h2 class="text-2xl font-bold flex items-center gap-2"><span class="text-3xl">üí°</span> C√¢u h·ªèi <span id="question-number">1</span>/30</h2><span id="category-badge" class="px-5 py-2 rounded-full text-sm font-bold shadow-lg"> C∆° b·∫£n </span>
      </div><div id="question-text" class="text-lg mb-6 leading-relaxed"></div><div id="code-container" class="hidden mb-6">
       <pre id="code-block" class="code-block rounded-lg p-4 text-sm overflow-x-auto"></pre>
      </div><div id="options-container" class="space-y-3"></div><div id="feedback" class="hidden mt-6 p-4 rounded-lg">
       <p id="feedback-text" class="font-semibold mb-2"></p>
       <p id="explanation-text" class="text-sm"></p>
      </div><div class="flex gap-4 mt-6"><button id="check-btn" class="flex-1 font-bold py-4 px-6 rounded-xl shadow-lg transition-all duration-300 btn-hover"> ‚úÖ Ki·ªÉm tra </button> <button id="next-btn" class="hidden flex-1 font-bold py-4 px-6 rounded-xl shadow-lg transition-all duration-300 btn-hover"> ‚û°Ô∏è B√†i ti·∫øp theo </button>
      </div>
     </div><div id="score-card" class="hidden glass-effect rounded-3xl shadow-2xl p-12 text-center glow">
      <div class="score-emoji mb-4">
       üéâ
      </div>
      <h2 class="text-4xl font-bold mb-6" style="text-shadow: 0 0 20px rgba(16, 185, 129, 0.5);">Ho√†n th√†nh!</h2>
      <div class="mb-6 p-8 rounded-2xl" style="background: linear-gradient(135deg, rgba(59, 130, 246, 0.2) 0%, rgba(16, 185, 129, 0.2) 100%);">
       <p class="text-7xl font-bold mb-2" id="final-score">0/30</p>
       <div class="text-5xl mb-4" id="result-emoji">
        ‚≠ê
       </div>
      </div>
      <p class="text-2xl mb-8 font-semibold" id="score-message"></p><button id="reset-btn" class="font-bold py-4 px-12 rounded-xl shadow-xl transition-all duration-300 btn-hover text-lg"> üîÑ L√†m l·∫°i </button>
     </div>
    </div>
   </div>
  </div>
  <script>
        const exercises = [
            {
                question: "C√¢u l·ªánh if trong Python ƒë∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ l√†m g√¨?",
                options: [
                    "L·∫∑p l·∫°i m·ªôt ƒëo·∫°n code nhi·ªÅu l·∫ßn",
                    "Th·ª±c thi code d·ª±a tr√™n ƒëi·ªÅu ki·ªán ƒë√∫ng/sai",
                    "ƒê·ªãnh nghƒ©a m·ªôt h√†m m·ªõi",
                    "Nh·∫≠p d·ªØ li·ªáu t·ª´ ng∆∞·ªùi d√πng"
                ],
                correct: 1,
                category: "C∆° b·∫£n",
                explanation: "C√¢u l·ªánh if ƒë∆∞·ª£c d√πng ƒë·ªÉ ki·ªÉm tra ƒëi·ªÅu ki·ªán v√† th·ª±c thi code khi ƒëi·ªÅu ki·ªán l√† True."
            },
            {
                question: "K·∫øt qu·∫£ c·ªßa ƒëo·∫°n code sau l√† g√¨?",
                code: "x = 10\nif x > 5:\n    print('L·ªõn')\nelse:\n    print('Nh·ªè')",
                options: ["L·ªõn", "Nh·ªè", "L·ªói c√∫ ph√°p", "Kh√¥ng in ra g√¨"],
                correct: 0,
                category: "C∆° b·∫£n",
                explanation: "x = 10 > 5 n√™n ƒëi·ªÅu ki·ªán ƒë√∫ng, in ra 'L·ªõn'."
            },
            {
                question: "Bi·ªÉu th·ª©c logic n√†o tr·∫£ v·ªÅ True?",
                options: [
                    "(5 > 3) and (2 < 1)",
                    "(5 > 3) or (2 < 1)",
                    "(5 < 3) and (2 > 1)",
                    "not (5 > 3)"
                ],
                correct: 1,
                category: "Bi·ªÉu th·ª©c logic",
                explanation: "To√°n t·ª≠ 'or' tr·∫£ v·ªÅ True n·∫øu √≠t nh·∫•t m·ªôt ƒëi·ªÅu ki·ªán ƒë√∫ng. (5 > 3) l√† True n√™n k·∫øt qu·∫£ l√† True."
            },
            {
                question: "ƒêo·∫°n code sau in ra g√¨?",
                code: "age = 18\nif age >= 18:\n    print('Ng∆∞·ªùi l·ªõn')\nelif age >= 13:\n    print('Thi·∫øu ni√™n')\nelse:\n    print('Tr·∫ª em')",
                options: ["Ng∆∞·ªùi l·ªõn", "Thi·∫øu ni√™n", "Tr·∫ª em", "L·ªói"],
                correct: 0,
                category: "If-elif-else",
                explanation: "age = 18 th·ªèa ƒëi·ªÅu ki·ªán ƒë·∫ßu ti√™n (>= 18), n√™n in 'Ng∆∞·ªùi l·ªõn' v√† d·ª´ng."
            },
            {
                question: "K·∫øt qu·∫£ c·ªßa bi·ªÉu th·ª©c: not (True and False)",
                options: ["True", "False", "None", "L·ªói"],
                correct: 0,
                category: "Bi·ªÉu th·ª©c logic",
                explanation: "(True and False) = False, sau ƒë√≥ not False = True."
            },
            {
                question: "ƒêo·∫°n code n√†o ki·ªÉm tra s·ªë ch·∫µn ƒë√∫ng?",
                options: [
                    "if x % 2 == 0:",
                    "if x / 2 == 0:",
                    "if x % 2 = 0:",
                    "if x == 2:"
                ],
                correct: 0,
                category: "·ª®ng d·ª•ng",
                explanation: "To√°n t·ª≠ % (modulo) l·∫•y ph·∫ßn d∆∞. S·ªë ch·∫µn chia 2 d∆∞ 0."
            },
            {
                question: "K·∫øt qu·∫£ c·ªßa: (10 > 5) and (5 > 10)",
                options: ["True", "False", "10", "5"],
                correct: 1,
                category: "Bi·ªÉu th·ª©c logic",
                explanation: "To√°n t·ª≠ 'and' c·∫ßn c·∫£ hai ƒëi·ªÅu ki·ªán ƒë√∫ng. (5 > 10) l√† False n√™n k·∫øt qu·∫£ l√† False."
            },
            {
                question: "ƒêo·∫°n code sau c√≥ l·ªói g√¨?",
                code: "score = 85\nif score > 80\n    print('Gi·ªèi')",
                options: [
                    "Thi·∫øu d·∫•u hai ch·∫•m (:) sau if",
                    "Thi·∫øu indent",
                    "Sai to√°n t·ª≠ so s√°nh",
                    "Kh√¥ng c√≥ l·ªói"
                ],
                correct: 0,
                category: "C√∫ ph√°p",
                explanation: "C√¢u l·ªánh if trong Python ph·∫£i c√≥ d·∫•u hai ch·∫•m (:) ·ªü cu·ªëi d√≤ng."
            },
            {
                question: "To√°n t·ª≠ n√†o ki·ªÉm tra hai gi√° tr·ªã KH√îNG b·∫±ng nhau?",
                options: ["==", "!=", "<>", "=/="],
                correct: 1,
                category: "To√°n t·ª≠",
                explanation: "To√°n t·ª≠ != (not equal) ki·ªÉm tra hai gi√° tr·ªã kh√°c nhau."
            },
            {
                question: "K·∫øt qu·∫£ c·ªßa ƒëo·∫°n code sau?",
                code: "x = 15\nif x > 10 and x < 20:\n    print('A')\nif x > 12:\n    print('B')",
                options: ["A", "B", "A\nB", "Kh√¥ng in g√¨"],
                correct: 2,
                category: "N√¢ng cao",
                explanation: "C·∫£ hai ƒëi·ªÅu ki·ªán ƒë·ªÅu ƒë√∫ng (15 n·∫±m trong kho·∫£ng 10-20 v√† 15 > 12), n√™n in c·∫£ A v√† B."
            },
            {
                question: "ƒêi·ªÅu ki·ªán n√†o ki·ªÉm tra x n·∫±m trong kho·∫£ng t·ª´ 10 ƒë·∫øn 20?",
                options: [
                    "if x > 10 and x < 20:",
                    "if 10 < x < 20:",
                    "if x >= 10 and x <= 20:",
                    "C·∫£ a v√† b ƒë·ªÅu ƒë√∫ng"
                ],
                correct: 3,
                category: "C∆° b·∫£n",
                explanation: "Python h·ªó tr·ª£ c·∫£ c√°ch vi·∫øt 10 < x < 20 v√† x > 10 and x < 20, c·∫£ hai ƒë·ªÅu ƒë√∫ng."
            },
            {
                question: "K·∫øt qu·∫£ c·ªßa ƒëo·∫°n code sau?",
                code: "x = 0\nif x:\n    print('True')\nelse:\n    print('False')",
                options: ["True", "False", "0", "L·ªói"],
                correct: 1,
                category: "Truthy/Falsy",
                explanation: "S·ªë 0 ƒë∆∞·ª£c coi l√† gi√° tr·ªã falsy trong Python, n√™n ƒëi·ªÅu ki·ªán if x l√† False."
            },
            {
                question: "To√°n t·ª≠ n√†o c√≥ ƒë·ªô ∆∞u ti√™n cao nh·∫•t?",
                options: ["and", "or", "not", "=="],
                correct: 2,
                category: "To√°n t·ª≠",
                explanation: "Th·ª© t·ª± ∆∞u ti√™n: not > and > or. To√°n t·ª≠ not ƒë∆∞·ª£c th·ª±c hi·ªán tr∆∞·ªõc."
            },
            {
                question: "ƒêo·∫°n code sau in ra g√¨?",
                code: "score = 75\nif score >= 90:\n    grade = 'A'\nelif score >= 80:\n    grade = 'B'\nelif score >= 70:\n    grade = 'C'\nelse:\n    grade = 'D'\nprint(grade)",
                options: ["A", "B", "C", "D"],
                correct: 2,
                category: "If-elif-else",
                explanation: "score = 75 th·ªèa ƒëi·ªÅu ki·ªán >= 70 (elif th·ª© 3), n√™n grade = 'C'."
            },
            {
                question: "Gi√° tr·ªã n√†o ƒë∆∞·ª£c coi l√† False trong Python?",
                options: ["0", "''", "[]", "T·∫•t c·∫£ c√°c ƒë√°p √°n tr√™n"],
                correct: 3,
                category: "Truthy/Falsy",
                explanation: "C√°c gi√° tr·ªã falsy trong Python: 0, '', [], {}, None, False."
            },
            {
                question: "K·∫øt qu·∫£ c·ªßa: True or False and False",
                options: ["True", "False", "L·ªói", "None"],
                correct: 0,
                category: "Bi·ªÉu th·ª©c logic",
                explanation: "and c√≥ ƒë·ªô ∆∞u ti√™n cao h∆°n or, n√™n: False and False = False, sau ƒë√≥ True or False = True."
            },
            {
                question: "ƒêo·∫°n code n√†o ki·ªÉm tra x l√† s·ªë d∆∞∆°ng ƒë√∫ng?",
                options: [
                    "if x > 0:",
                    "if x >= 0:",
                    "if x != 0:",
                    "if x:"
                ],
                correct: 0,
                category: "·ª®ng d·ª•ng",
                explanation: "S·ªë d∆∞∆°ng l√† s·ªë l·ªõn h∆°n 0, n√™n d√πng x > 0."
            },
            {
                question: "K·∫øt qu·∫£ c·ªßa ƒëo·∫°n code sau?",
                code: "name = 'Python'\nif name == 'python':\n    print('Gi·ªëng')\nelse:\n    print('Kh√°c')",
                options: ["Gi·ªëng", "Kh√°c", "L·ªói", "Kh√¥ng in g√¨"],
                correct: 1,
                category: "So s√°nh",
                explanation: "Python ph√¢n bi·ªát ch·ªØ hoa/th∆∞·ªùng. 'Python' != 'python', n√™n in 'Kh√°c'."
            },
            {
                question: "To√°n t·ª≠ n√†o ki·ªÉm tra hai bi·∫øn c√πng tr·ªè ƒë·∫øn m·ªôt ƒë·ªëi t∆∞·ª£ng?",
                options: ["==", "is", "!=", "in"],
                correct: 1,
                category: "To√°n t·ª≠",
                explanation: "To√°n t·ª≠ 'is' ki·ªÉm tra hai bi·∫øn c√≥ c√πng ƒë·ªãa ch·ªâ b·ªô nh·ªõ, '==' ki·ªÉm tra gi√° tr·ªã."
            },
            {
                question: "ƒêo·∫°n code sau c√≥ ƒë√∫ng kh√¥ng?",
                code: "if x > 10:\n    if y > 5:\n        print('OK')",
                options: ["ƒê√∫ng, ƒë√¢y l√† nested if", "Sai, thi·∫øu else", "Sai, thi·∫øu elif", "Sai c√∫ ph√°p"],
                correct: 0,
                category: "N√¢ng cao",
                explanation: "ƒê√¢y l√† c·∫•u tr√∫c nested if (if l·ªìng nhau), ho√†n to√†n h·ª£p l·ªá trong Python."
            },
            {
                question: "K·∫øt qu·∫£ c·ªßa: not (5 > 3 or 2 > 4)",
                options: ["True", "False", "5", "3"],
                correct: 1,
                category: "Bi·ªÉu th·ª©c logic",
                explanation: "(5 > 3 or 2 > 4) = (True or False) = True, sau ƒë√≥ not True = False."
            },
            {
                question: "ƒêo·∫°n code n√†o ki·ªÉm tra x chia h·∫øt cho c·∫£ 2 v√† 3?",
                options: [
                    "if x % 2 == 0 and x % 3 == 0:",
                    "if x % 2 == 0 or x % 3 == 0:",
                    "if x % 6 == 0:",
                    "C·∫£ a v√† c ƒë·ªÅu ƒë√∫ng"
                ],
                correct: 3,
                category: "·ª®ng d·ª•ng",
                explanation: "S·ªë chia h·∫øt cho c·∫£ 2 v√† 3 th√¨ chia h·∫øt cho 6. C·∫£ hai c√°ch ƒë·ªÅu ƒë√∫ng."
            },
            {
                question: "K·∫øt qu·∫£ c·ªßa ƒëo·∫°n code sau?",
                code: "x = [1, 2, 3]\nif x:\n    print('List c√≥ ph·∫ßn t·ª≠')\nelse:\n    print('List r·ªóng')",
                options: ["List c√≥ ph·∫ßn t·ª≠", "List r·ªóng", "L·ªói", "[1, 2, 3]"],
                correct: 0,
                category: "Truthy/Falsy",
                explanation: "List c√≥ ph·∫ßn t·ª≠ ƒë∆∞·ª£c coi l√† truthy, n√™n ƒëi·ªÅu ki·ªán if x l√† True."
            },
            {
                question: "To√°n t·ª≠ n√†o ki·ªÉm tra ph·∫ßn t·ª≠ c√≥ trong list?",
                options: ["==", "is", "in", "has"],
                correct: 2,
                category: "To√°n t·ª≠",
                explanation: "To√°n t·ª≠ 'in' ki·ªÉm tra ph·∫ßn t·ª≠ c√≥ trong list/tuple/string."
            },
            {
                question: "ƒêo·∫°n code sau in ra g√¨?",
                code: "x = 5\ny = 10\nif x < y < 15:\n    print('ƒê√∫ng')\nelse:\n    print('Sai')",
                options: ["ƒê√∫ng", "Sai", "L·ªói", "5"],
                correct: 0,
                category: "N√¢ng cao",
                explanation: "5 < 10 < 15 l√† ƒë√∫ng (10 l·ªõn h∆°n 5 v√† nh·ªè h∆°n 15), n√™n in 'ƒê√∫ng'."
            },
            {
                question: "ƒêi·ªÅu ki·ªán n√†o ki·ªÉm tra x l√† s·ªë l·∫ª?",
                options: [
                    "if x % 2 == 1:",
                    "if x % 2 != 0:",
                    "if x % 2:",
                    "C·∫£ 3 ƒë√°p √°n ƒë·ªÅu ƒë√∫ng"
                ],
                correct: 3,
                category: "·ª®ng d·ª•ng",
                explanation: "S·ªë l·∫ª chia 2 d∆∞ 1 (ho·∫∑c kh√°c 0). C·∫£ 3 c√°ch ƒë·ªÅu ki·ªÉm tra ƒë√∫ng s·ªë l·∫ª."
            },
            {
                question: "K·∫øt qu·∫£ c·ªßa: (10 == 10) and (5 != 5)",
                options: ["True", "False", "10", "5"],
                correct: 1,
                category: "Bi·ªÉu th·ª©c logic",
                explanation: "(10 == 10) l√† True, nh∆∞ng (5 != 5) l√† False. True and False = False."
            },
            {
                question: "ƒêo·∫°n code sau c√≥ l·ªói g√¨?",
                code: "age = 20\nif age >= 18\n    if age <= 60:\n        print('Ng∆∞·ªùi l·ªõn')",
                options: [
                    "Thi·∫øu d·∫•u : sau if ƒë·∫ßu ti√™n",
                    "Thi·∫øu else",
                    "Sai indent",
                    "Kh√¥ng c√≥ l·ªói"
                ],
                correct: 0,
                category: "C√∫ ph√°p",
                explanation: "Thi·∫øu d·∫•u hai ch·∫•m (:) sau if age >= 18. M·ªçi c√¢u l·ªánh if ph·∫£i c√≥ d·∫•u :."
            },
            {
                question: "K·∫øt qu·∫£ c·ªßa ƒëo·∫°n code sau?",
                code: "x = None\nif x is None:\n    print('Null')\nelse:\n    print('Not Null')",
                options: ["Null", "Not Null", "None", "L·ªói"],
                correct: 0,
                category: "So s√°nh",
                explanation: "x = None, v√† None is None l√† True, n√™n in 'Null'. D√πng 'is' ƒë·ªÉ so s√°nh v·ªõi None."
            },
            {
                question: "Bi·ªÉu th·ª©c n√†o t∆∞∆°ng ƒë∆∞∆°ng v·ªõi: not (x > 5 and y < 10)",
                options: [
                    "x <= 5 or y >= 10",
                    "x < 5 or y > 10",
                    "x <= 5 and y >= 10",
                    "not x > 5 or not y < 10"
                ],
                correct: 0,
                category: "N√¢ng cao",
                explanation: "Theo ƒë·ªãnh lu·∫≠t De Morgan: not (A and B) = (not A) or (not B). N√™n not (x>5 and y<10) = (x<=5 or y>=10)."
            }
        ];

        const defaultConfig = {
            background_color: "#0f172a",
            card_color: "#1e293b",
            primary_color: "#3b82f6",
            text_color: "#f1f5f9",
            accent_color: "#10b981",
            main_title: "B√†i 19: C√¢u l·ªánh IF trong Python",
            subtitle: "Th·ª±c h√†nh v·ªÅ c√¢u l·ªánh if v√† bi·ªÉu th·ª©c logic",
            check_button_text: "Ki·ªÉm tra",
            next_button_text: "B√†i ti·∫øp theo",
            reset_button_text: "L√†m l·∫°i",
            // ƒêI·ªÄN T√äN FILE MP3 TRONG M√ÅY B·∫†N V√ÄO ƒê√ÇY
            correct_sound_url: "dung.mp3",
            wrong_sound_url: "sai.mp3",
            font_family: "system-ui, -apple-system, sans-serif",
            font_size: 16
        };

        let currentQuestion = 0;
        let score = 0;
        let answered = false;
        let selectedOption = null;

        function playSound(url) {
            if (!url) return;
            try {
                const audio = new Audio(url);
                audio.play().catch(err => console.log('Audio play failed:', err));
            } catch (err) {
                console.log('Audio error:', err);
            }
        }

        function renderQuestion() {
            const exercise = exercises[currentQuestion];
            answered = false;
            selectedOption = null;

            document.getElementById('question-number').textContent = currentQuestion + 1;
            document.getElementById('question-text').textContent = exercise.question;
            document.getElementById('category-badge').textContent = exercise.category;

            const codeContainer = document.getElementById('code-container');
            const codeBlock = document.getElementById('code-block');
            if (exercise.code) {
                codeBlock.textContent = exercise.code;
                codeContainer.classList.remove('hidden');
            } else {
                codeContainer.classList.add('hidden');
            }

            const optionsContainer = document.getElementById('options-container');
            optionsContainer.innerHTML = '';
            exercise.options.forEach((option, index) => {
                const optionDiv = document.createElement('label');
                optionDiv.className = 'option-label flex items-center p-4 rounded-lg border-2 transition-all duration-200';
                optionDiv.innerHTML = `
                    <input type="radio" name="answer" value="${index}" class="mr-3">
                    <span class="flex-1 text-base">${option}</span>
                `;
                optionDiv.addEventListener('click', () => selectOption(index));
                optionsContainer.appendChild(optionDiv);
            });

            document.getElementById('feedback').classList.add('hidden');
            document.getElementById('check-btn').classList.remove('hidden');
            document.getElementById('next-btn').classList.add('hidden');

            updateProgress();
            applyColors();
        }

        function selectOption(index) {
            if (answered) return;
            
            selectedOption = index;
            const labels = document.querySelectorAll('.option-label');
            labels.forEach((label, i) => {
                const radio = label.querySelector('input[type="radio"]');
                radio.checked = (i === index);
            });
        }

        function checkAnswer() {
            if (answered || selectedOption === null) return;

            answered = true;
            const exercise = exercises[currentQuestion];
            const isCorrect = selectedOption === exercise.correct;
            const config = window.elementSdk?.config || defaultConfig;

            // PH·∫¶N X·ª¨ L√ù √ÇM THANH
            if (isCorrect) {
                score++;
                if (config.correct_sound_url) playSound(config.correct_sound_url);
            } else {
                if (config.wrong_sound_url) playSound(config.wrong_sound_url);
            }

            const labels = document.querySelectorAll('.option-label');
            labels.forEach((label, index) => {
                const radio = label.querySelector('input[type="radio"]');
                radio.disabled = true;
                
                if (index === exercise.correct) {
                    label.style.borderColor = config.accent_color;
                    label.style.backgroundColor = `${config.accent_color}20`;
                } else if (index === selectedOption && !isCorrect) {
                    label.style.borderColor = '#ef4444';
                    label.style.backgroundColor = '#ef444420';
                    label.classList.add('shake');
                }
            });

            const feedback = document.getElementById('feedback');
            const feedbackText = document.getElementById('feedback-text');
            const explanationText = document.getElementById('explanation-text');

            feedback.classList.remove('hidden');
            feedback.classList.add('fade-in');

            if (isCorrect) {
                feedbackText.textContent = '‚úÖ Ch√≠nh x√°c!';
                feedback.style.backgroundColor = `${config.accent_color}20`;
                feedback.style.borderLeft = `4px solid ${config.accent_color}`;
            } else {
                feedbackText.textContent = '‚ùå Ch∆∞a ƒë√∫ng!';
                feedback.style.backgroundColor = '#ef444420';
                feedback.style.borderLeft = '4px solid #ef4444';
            }

            explanationText.textContent = exercise.explanation;

            document.getElementById('check-btn').classList.add('hidden');
            document.getElementById('next-btn').classList.remove('hidden');

            updateProgress();
        }

        function nextQuestion() {
            currentQuestion++;
            if (currentQuestion >= exercises.length) {
                showResults();
            } else {
                renderQuestion();
            }
        }

        function updateProgress() {
            const progress = ((currentQuestion + (answered ? 1 : 0)) / exercises.length) * 100;
            document.getElementById('progress-bar').style.width = `${progress}%`;
            document.getElementById('progress-text').textContent = `${currentQuestion + (answered ? 1 : 0)}/${exercises.length}`;
        }

        function showResults() {
            document.getElementById('exercise-card').classList.add('hidden');
            document.getElementById('score-card').classList.remove('hidden');
            document.getElementById('final-score').textContent = `${score}/${exercises.length}`;

            const percentage = (score / exercises.length) * 100;
            let message = '';
            let emoji = '';
            if (percentage === 100) {
                message = 'Xu·∫•t s·∫Øc! B·∫°n ƒë√£ n·∫Øm v·ªØng ki·∫øn th·ª©c!';
                emoji = 'üèÜ';
            } else if (percentage >= 80) {
                message = 'R·∫•t t·ªët! B·∫°n hi·ªÉu kh√° r√µ v·ªÅ c√¢u l·ªánh if!';
                emoji = '‚≠ê';
            } else if (percentage >= 60) {
                message = 'Kh√° t·ªët! H√£y xem l·∫°i m·ªôt s·ªë kh√°i ni·ªám nh√©!';
                emoji = 'üìö';
            } else {
                message = 'C·∫ßn √¥n t·∫≠p th√™m v·ªÅ c√¢u l·ªánh if v√† bi·ªÉu th·ª©c logic!';
                emoji = 'üí™';
            }
            document.getElementById('score-message').textContent = message;
            document.getElementById('result-emoji').textContent = emoji;
        }

        function resetQuiz() {
            currentQuestion = 0;
            score = 0;
            document.getElementById('score-card').classList.add('hidden');
            document.getElementById('exercise-card').classList.remove('hidden');
            renderQuestion();
        }

        function applyColors() {
            const config = window.elementSdk?.config || defaultConfig;
            const baseFontSize = config.font_size || defaultConfig.font_size;
            const customFont = config.font_family || defaultConfig.font_family;
            const baseFontStack = 'system-ui, -apple-system, sans-serif';

            document.getElementById('app-container').style.background = config.background_color;
            document.body.style.color = config.text_color;
            
            document.getElementById('main-title').style.fontFamily = `${customFont}, ${baseFontStack}`;
            document.getElementById('main-title').style.fontSize = `${baseFontSize * 2}px`;
            document.getElementById('subtitle').style.fontFamily = `${customFont}, ${baseFontStack}`;
            document.getElementById('subtitle').style.fontSize = `${baseFontSize * 1.25}px`;

            document.getElementById('progress-bar').style.background = config.primary_color;

            const cards = [document.getElementById('exercise-card'), document.getElementById('score-card')];
            cards.forEach(card => {
                card.style.background = config.card_color;
                card.style.color = config.text_color;
            });

            document.getElementById('category-badge').style.background = config.primary_color;
            document.getElementById('category-badge').style.color = '#ffffff';

            document.getElementById('code-block').style.background = 'linear-gradient(135deg, #1e3a8a 0%, #1e40af 100%)';
            document.getElementById('code-block').style.color = '#fbbf24';
            document.getElementById('code-block').style.boxShadow = '0 4px 15px rgba(0, 0, 0, 0.3)';
            document.getElementById('code-block').style.border = '1px solid rgba(59, 130, 246, 0.3)';

            const labels = document.querySelectorAll('.option-label');
            labels.forEach(label => {
                if (!answered) {
                    label.style.borderColor = 'rgba(59, 130, 246, 0.3)';
                    label.style.background = 'rgba(30, 41, 59, 0.5)';
                }
                label.style.fontSize = `${baseFontSize}px`;
            });

            const checkBtn = document.getElementById('check-btn');
            checkBtn.style.background = config.primary_color;
            checkBtn.style.color = '#ffffff';
            checkBtn.style.fontSize = `${baseFontSize}px`;

            const nextBtn = document.getElementById('next-btn');
            nextBtn.style.background = config.accent_color;
            nextBtn.style.color = '#ffffff';
            nextBtn.style.fontSize = `${baseFontSize}px`;

            const resetBtn = document.getElementById('reset-btn');
            resetBtn.style.background = config.primary_color;
            resetBtn.style.color = '#ffffff';
            resetBtn.style.fontSize = `${baseFontSize * 1.125}px`;
        }

        async function onConfigChange(config) {
            document.getElementById('main-title').textContent = config.main_title || defaultConfig.main_title;
            document.getElementById('subtitle').textContent = config.subtitle || defaultConfig.subtitle;
            document.getElementById('check-btn').textContent = config.check_button_text || defaultConfig.check_button_text;
            document.getElementById('next-btn').textContent = config.next_button_text || defaultConfig.next_button_text;
            document.getElementById('reset-btn').textContent = config.reset_button_text || defaultConfig.reset_button_text;
            
            applyColors();
        }

        document.getElementById('check-btn').addEventListener('click', checkAnswer);
        document.getElementById('next-btn').addEventListener('click', nextQuestion);
        document.getElementById('reset-btn').addEventListener('click', resetQuiz);

        if (window.elementSdk) {
            window.elementSdk.init({
                defaultConfig,
                onConfigChange,
                mapToCapabilities: (config) => ({
                    recolorables: [
                        {
                            get: () => config.background_color || defaultConfig.background_color,
                            set: (value) => {
                                config.background_color = value;
                                window.elementSdk.setConfig({ background_color: value });
                            }
                        },
                        {
                            get: () => config.card_color || defaultConfig.card_color,
                            set: (value) => {
                                config.card_color = value;
                                window.elementSdk.setConfig({ card_color: value });
                            }
                        },
                        {
                            get: () => config.text_color || defaultConfig.text_color,
                            set: (value) => {
                                config.text_color = value;
                                window.elementSdk.setConfig({ text_color: value });
                            }
                        },
                        {
                            get: () => config.primary_color || defaultConfig.primary_color,
                            set: (value) => {
                                config.primary_color = value;
                                window.elementSdk.setConfig({ primary_color: value });
                            }
                        },
                        {
                            get: () => config.accent_color || defaultConfig.accent_color,
                            set: (value) => {
                                config.accent_color = value;
                                window.elementSdk.setConfig({ accent_color: value });
                            }
                        }
                    ],
                    borderables: [],
                    fontEditable: {
                        get: () => config.font_family || defaultConfig.font_family,
                        set: (value) => {
                            config.font_family = value;
                            window.elementSdk.setConfig({ font_family: value });
                        }
                    },
                    fontSizeable: {
                        get: () => config.font_size || defaultConfig.font_size,
                        set: (value) => {
                            config.font_size = value;
                            window.elementSdk.setConfig({ font_size: value });
                        }
                    }
                }),
                mapToEditPanelValues: (config) => new Map([
                    ["main_title", config.main_title || defaultConfig.main_title],
                    ["subtitle", config.subtitle || defaultConfig.subtitle],
                    ["check_button_text", config.check_button_text || defaultConfig.check_button_text],
                    ["next_button_text", config.next_button_text || defaultConfig.next_button_text],
                    ["reset_button_text", config.reset_button_text || defaultConfig.reset_button_text],
                    ["correct_sound_url", config.correct_sound_url || defaultConfig.correct_sound_url],
                    ["wrong_sound_url", config.wrong_sound_url || defaultConfig.wrong_sound_url]
                ])
            });
        }

        renderQuestion();
    </script>
 </body>
</html>